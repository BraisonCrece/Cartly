<%= turbo_frame_tag :modal do %>
  <div data-controller='modal' id='product-modal' >
    <div id='modal-container' data-action="click->modal#close" class="fixed z-30 w-full h-full top-0 left-0 bg-black bg-opacity-20"></div>
    <div class="fixed inset-0 z-40 overflow-hidden p-3">
      <%= image_tag 'close2.png', width: '35px', data: { action: 'click->modal#close' }, class: "animate__fadeIn animate__animated mx-auto mt-10 mb-2"%>
      <div class="max-w-lg mx-auto bg-white rounded-lg overflow-hidden shadow-xl mb-10 animate__fadeIn animate__animated">
        <div class="w-full">
          <%= image_tag(@wine.image.attached? ? @wine.image : "wine-placeholder.webp", class: "rounded-t-lg object-cover object-center max-h-64 w-full") %>
        </div>
        <div class="px-6 py-4">
          <div class="font-bold text-2xl mb-2 playfare"><%= @wine.name %></div>
          <p class="text-gray-700 mb-4 lato w-full text-start break-words"><%= @wine.description %></p>
          <div class="flex justify-between items-center align-middle">
            <div class="font-semibold text-xl block self-center"><%= number_to_currency(@wine.price, { unit: '€', separator: ',', format: "%n %u" }) %></div>
            <% if @wine.price_per_glass %>
              <div>
                <label class='text-sm font-thin' for="per_glass">Precio por copa:</label>
                <p class="text-gray-700 mb-4 lato font-light" id='per_glass'><%= number_to_currency(@wine.price_per_glass, { unit: '€', separator: ',', format: "%n %u" }) %></p>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
