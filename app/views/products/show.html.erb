<%= turbo_frame_tag :modal do %>
  <div data-controller='modal' id='product-modal' >
    <div id='modal-container' data-action="click->modal#close" class="fixed z-30 w-full h-full top-0 left-0 bg-black bg-opacity-20"></div>
    <div class="fixed inset-0 z-40 overflow-hidden p-3">
      <%= image_tag 'close2.png', width: '35px', data: { action: 'click->modal#close' }, class: "animate__fadeIn animate__animated mx-auto mt-10 mb-2"%>
      <div class="max-w-lg mx-auto bg-white rounded-lg overflow-hidden shadow-xl mb-10 animate__fadeIn animate__animated">
        <div class="w-full">
          <%= image_tag(@product.picture.attached? ? @product.picture : "placeholder.jpg", class: "rounded-t-lg object-cover object-center max-h-64 w-full") %>
        </div>
        <div class="px-6 py-4">
          <div class="font-bold text-2xl mb-2 playfare"><%= @product.title %></div>
          <p class="text-gray-700 mb-4 lato break-words w-full"><%= @product.description %></p>
          <div class="flex justify-between items-center align-middle">
            <div class="font-semibold text-xl block self-center"><%= number_to_currency(@product.prize, { unit: 'â‚¬', separator: ',', format: "%n %u" }) %></div>
            <div class="flex alergenos">
              <% @product.allergens.each do |allergen| %>
                <span class="inline-block px-3 py-1 mr-2">
                  <%= image_tag allergen.icon, width: "35px" %>
                </span>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
